{"version":3,"sources":["../../src/utils/copyFile.js"],"names":["source","target","Promise","resolve","reject","rd","on","err","Error","message","wr","pipe"],"mappings":";;;;;;AAAA;;AACA;;AACA;;;;;;kBAEe,kBAACA,MAAD,EAASC,MAAT;AAAA,SACb,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAC/B,0BAAO,mBAAQH,MAAR,CAAP,EAAwB,MAAM;AAC5B,UAAII,KAAK,0BAAiBL,MAAjB,CAAT;AACAK,SAAGC,EAAH,CAAM,OAAN,EAAeC,OAAOH,OAAO,IAAII,KAAJ,CAAW,wBAAuBR,MAAO,MAAKO,IAAIE,OAAQ,EAA1D,CAAP,CAAtB;AACA,UAAIC,KAAK,2BAAkBT,MAAlB,CAAT;AACAS,SAAGJ,EAAH,CAAM,OAAN,EAAeC,OAAOH,OAAO,IAAII,KAAJ,CAAW,yBAAwBP,MAAO,MAAKM,IAAIE,OAAQ,EAA3D,CAAP,CAAtB;AACAC,SAAGJ,EAAH,CAAM,QAAN,EAAgBH,OAAhB;AACAO,SAAGJ,EAAH,CAAM,KAAN,EAAaH,OAAb;AACAO,SAAGJ,EAAH,CAAM,OAAN,EAAeH,OAAf;AACAE,SAAGM,IAAH,CAAQD,EAAR;AACD,KATD;AAUD,GAXD,CADa;AAAA,C","file":"copyFile.js","sourcesContent":["import { createReadStream, createWriteStream } from 'fs';\nimport { dirname } from 'path';\nimport mkdirp from 'mkdirp';\n\nexport default (source, target) => (\n  new Promise((resolve, reject) => {\n    mkdirp(dirname(target), () => {\n      let rd = createReadStream(source);\n      rd.on('error', err => reject(new Error(`failed to read file \"${source}\": ${err.message}`)));\n      let wr = createWriteStream(target);\n      wr.on('error', err => reject(new Error(`failed to write file \"${target}\": ${err.message}`)));\n      wr.on('finish', resolve);\n      wr.on('end', resolve);\n      wr.on('close', resolve);\n      rd.pipe(wr);\n    });\n  })\n);\n"]}