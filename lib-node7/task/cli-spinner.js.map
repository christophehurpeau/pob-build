{"version":3,"sources":["../../src/task/cli-spinner.js"],"names":["name","spinner","text","interval","start","subtask","_name","render","process","nextTick","succeed"],"mappings":";;;;;;AAAA;;;;;;kBAEgBA,IAAD,IAAU;AACvB,QAAMC,UAAU,mBAAI;AAClBC,UAAMF,IADY;AAElBG,cAAU;AAFQ,GAAJ,EAGbC,KAHa,EAAhB;;AAKA,SAAO;AACLC,YAAQL,IAAR,EAAc;AACZ,YAAME,OAAQ,GAAE,KAAKI,KAAM,MAAKN,IAAK,EAArC;AACAC,cAAQC,IAAR,GAAeA,IAAf;AACAD,cAAQM,MAAR;AACA,aAAO,MAAM;AACXC,gBAAQC,QAAR,CAAiB,MAAM;AACrB,cAAIR,QAAQC,IAAR,KAAiBA,IAArB,EAA2B;AACzBD,oBAAQC,IAAR,GAAe,KAAKI,KAApB;AACD;AACF,SAJD;AAKD,OAND;AAOD,KAZI;;AAcLI,cAAU;AACRT,cAAQC,IAAR,GAAe,KAAKI,KAApB;AACAL,cAAQS,OAAR;AACD;AAjBI,GAAP;AAmBD,C","file":"cli-spinner.js","sourcesContent":["import ora from 'ora';\n\nexport default (name) => {\n  const spinner = ora({\n    text: name,\n    interval: 600,\n  }).start();\n\n  return {\n    subtask(name) {\n      const text = `${this._name} â†’ ${name}`;\n      spinner.text = text;\n      spinner.render();\n      return () => {\n        process.nextTick(() => {\n          if (spinner.text === text) {\n            spinner.text = this._name;\n          }\n        });\n      };\n    },\n\n    succeed() {\n      spinner.text = this._name;\n      spinner.succeed();\n    },\n  };\n};\n\n"]}